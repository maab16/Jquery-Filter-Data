!function(a,b,c,d){"use strict";function f(c,d){this.settings=a.extend({},e,d),this.element=a(c),this.win=a(b).width(),this.all=this.element.find(">div"),this.totalItems=this.all.length;var f=this;a(b).on("resize",function(){f.win=a(this).width(),f.setScreen()}),this.init()}var e={containerWidth:0,containerHeight:0,nOfRow:0,nOfColumn:0,aspectRatio:"1:1",containerMargin:"0px auto",itemWidth:0,itemHeight:0,itemDistance:20,animationSpeed:300,containerAnimationDelay:500,allContainerAnimationSpeed:500,easing:"swing",margin:0,responsive:[{breakpoint:1200,containerWidth:1170,settings:{nOfRow:3,nOfColumn:3}},{breakpoint:992,containerWidth:970,settings:{nOfRow:3,nOfColumn:3}},{breakpoint:768,containerWidth:750,settings:{nOfRow:2,nOfColumn:2}}]};f.prototype={init:function(){var b=this;b.win>=1200?b.setSettings(1200):b.win>=992?b.setSettings(992):b.win>=768?b.setSettings(768):b.win<768&&b.setSettings("xtra-small"),b.itemWidth=0==b.settings.itemWidth?b.containerWidth/b.nOfColumn:b.settings.itemWidth,b.itemHeight=b.getHeightFromRatio(),b.containerHeight=0==b.settings.containerHeight?b.nOfRows*b.itemHeight:b.settings.containerHeight,b.top=0,b.j=0,b.k=0,b.element.css({width:b.containerWidth,height:b.containerHeight,position:"relative",overflow:"hidden",margin:"0px auto"}),b.all.each(function(c,d){b.j*b.itemWidth>=b.element.width()&&(b.j=0,b.k++),a(this).css({width:b.itemWidth,height:b.itemHeight,position:"absolute",left:b.j*b.itemWidth,top:b.k*b.itemHeight,paddingTop:b.settings.itemDistance}),b.j++}),b.all.find("figure").css({width:"100%",height:"100%"}),b.all.find("img").css({width:"100%",height:"100%"}),a('a[href^="#"] , button').on("click",function(c){b.$item=a(this).data("filter"),d!==b.$item&&(a(this).addClass("active-filter"),b.items=b.element.find("div"+b.$item),b.totalItems=b.items.length,b.m=0,b.n=0),a(this).hasClass("active-filter")&&b.controllDisplay()})},controllDisplay:function(){switch(this.$item){case"all":this.displayAll();break;default:this.displaySingleCategory()}},setScreen:function(){var b=this;b.win>=1200?b.setSettings(1200):b.win>=992?b.setSettings(992):b.win>=768?b.setSettings(768):b.win<768&&b.setSettings("xtra-small"),b.settings.animationSpeed=0,b.settings.containerAnimationDelay=0,b.settings.allContainerAnimationSpeed=0,b.itemWidth=0==b.settings.itemWidth?b.containerWidth/b.nOfColumn:b.settings.itemWidth,b.itemHeight=b.getHeightFromRatio(),b.top=0,b.j=0,b.k=0,b.containerHeight=0==b.settings.containerHeight?b.nOfRows*b.itemHeight:b.settings.containerHeight,b.element.css({width:b.containerWidth,height:b.containerHeight,position:"relative",overflow:"hidden"}),b.button=a("body").find("button"),b.button.each(function(){b.$item=a(this).data("filter"),a(this).hasClass("active-work")&&(b.items=b.element.find("div"+b.$item),b.totalItems=b.items.length,b.m=0,b.n=0,b.controllDisplay())})},setSettings:function(b){var c=this;a.each(c.settings.responsive,function(a,d){d.breakpoint==b&&(c.nOfColumn=d.settings.nOfColumn,c.nOfRows=d.settings.nOfRow,c.containerWidth=d.containerWidth)}),"xtra-small"==b&&(c.containerWidth=c.win,c.nOfColumn=1,c.nOfRows=3)},getRgba:function(a,b){var c,d,e,f=b,g=a.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i),a=null!==g?g[1]:"000";return 6==a.length?(c=parseInt(a.substring(0,2),16),d=parseInt(a.substring(2,4),16),e=parseInt(a.substring(4,6),16)):3==a.length&&(c=parseInt(a.substring(0,1)+a.substring(0,1),16),d=parseInt(a.substring(1,2)+a.substring(1,2),16),e=parseInt(a.substring(2,3)+a.substring(2,3),16)),c+","+d+","+e+","+f},getHeightFromRatio:function(){return this.ratio=this.settings.aspectRatio.split(":"),Math.ceil(this.itemWidth*this.ratio[1]/this.ratio[0])},displayAll:function(){var b=this;b.all.css({display:"block",opacity:1,transform:"scale(1)",transition:"all 0.5s ease"}),b.all.each(function(c,d){b.m*b.itemWidth>=b.element.width()&&(b.m=0,b.n++),a(this).css({display:"block",opacity:1,width:b.itemWidth,height:b.itemHeight,position:"absolute"}).animate({left:b.m*b.itemWidth,top:b.n*b.itemHeight},b.settings.animationSpeed,b.settings.easing),b.m++}),b.element.delay(b.settings.containerAnimationDelay).animate({height:b.containerHeight},b.settings.allContainerAnimationSpeed)},displaySingleCategory:function(){var e,b=this,c=Math.ceil(b.totalItems/b.nOfColumn);e=c<=b.nOfRows?b.itemHeight*c:b.itemHeight*b.nOfRows,b.$item!=d&&(b.all.each(function(c,d){b.matchCurrent(d)||a(this).css({display:"block",opacity:0,transform:"scale(0)",transition:"all 0.5s ease"})}),b.items.css({display:"block",opacity:1,transform:"scale(1)",transition:"all 0.5s ease"}),a(b.items).each(function(c,d){b.m*b.itemWidth>=b.element.width()&&(b.m=0,b.n++),a(d).css({display:"block",opacity:1,width:b.itemWidth,height:b.itemHeight,position:"absolute"}),a(this).animate({left:b.m*b.itemWidth,top:b.n*b.itemHeight},b.settings.animationSpeed,b.settings.easing),b.m++}),b.element.delay(b.settings.containerAnimationDelay).animate({height:e},b.settings.allContainerAnimationSpeed))},matchCurrent:function(b){for(var c=a.map(self.items,function(a,b){return[a]}),d=0;d<c.length;d++)if(b===c[d])return!0;return!1}},a.fn.filterData=function(b){return this.each(function(){a.data(this,"filterData")||a.data(this,"filterData",new f(this,b))})}}(jQuery,window,document);